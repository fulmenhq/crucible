# v0.3.0 Release Notes

## Overview

v0.3.0 marks a major overhaul of Crucible's agentic interface, migrating role prompts from inline markdown to schema-validated YAML configurations, establishing a formal attribution baseline, and introducing upstream vendoring patterns for cross-repository schema sharing.

## Agentic Interface Overhaul

### Role Prompt Migration

Migrated all agent role prompts from inline documentation to schema-validated YAML files:

| Role       | File                                 | Purpose                 |
| ---------- | ------------------------------------ | ----------------------- |
| `devlead`  | `config/agentic/roles/devlead.yaml`  | Implementation lead     |
| `devrev`   | `config/agentic/roles/devrev.yaml`   | Four-eyes code review   |
| `infoarch` | `config/agentic/roles/infoarch.yaml` | Documentation, schemas  |
| `entarch`  | `config/agentic/roles/entarch.yaml`  | Cross-repo architecture |
| `cicd`     | `config/agentic/roles/cicd.yaml`     | Pipelines, builds       |
| `secrev`   | `config/agentic/roles/secrev.yaml`   | Security analysis       |
| `dataeng`  | `config/agentic/roles/dataeng.yaml`  | Data infrastructure     |

**Benefits:**

- Schema validation ensures role prompts conform to expected structure
- YAML format enables programmatic consumption by agentic tools
- Centralized role catalog simplifies maintenance and versioning
- Role README provides usage patterns and customization guidance

### Git Commit Attribution Baseline

Added `docs/catalog/agentic/attribution/git-commit.md` establishing the canonical commit attribution format for AI-assisted commits:

- **Supervised mode template**: Human reviews before commit
- **Autonomous mode template**: Agent operates within defined boundaries
- **Element reference**: Model names, interface names, role identifiers
- **Trailer ordering**: Standardized Co-Authored-By, Role, Committer-of-Record sequence
- **Four-eyes review attribution**: Reviewed-By trailer for multi-agent workflows

### AGENTS.md Enhancements

Updated `AGENTS.md` to reference YAML role configurations:

- Role table now links to individual YAML files
- Added attribution quick reference table
- Clarified interface adapters (Claude Code, Codex CLI, Cursor, Cline, OpenCode)

## Upstream Vendoring

### Schema Vendoring Pattern

Introduced `schemas/upstream/` directory for vendoring schemas from external repositories:

- **Purpose**: Host schemas from upstream sources (e.g., 3leaps/crucible) that Crucible depends on
- **Provenance tracking**: `PROVENANCE.md` documents source repository, version, and sync date
- **Sync tooling**: `make sync-from-upstream` target for pulling latest schemas

### Consumer Guide

Added `docs/ops/upstream-sync-consumer.md` documenting:

- When to vendor vs depend
- Sync workflow and validation
- Version pinning strategy
- Breaking change handling

## Standards Documentation Refactor

### Agentic Attribution Standard

Major refactor of `docs/standards/agentic-attribution.md`:

- Streamlined to focus on specification
- Moved detailed examples to catalog
- Added cross-references to role catalog and identity standard

### AI Agents Standard

Enhanced `docs/standards/ai-agents.md`:

- Expanded identity scheme documentation
- Added operating mode definitions (supervised, autonomous, hybrid)
- Included interface adapter guidance
- Added role catalog integration

## Schema Updates

### Release Phase Schema

Extended `schemas/config/goneat/v1.0.0/release-phase.json` with new values:

| Value     | Purpose                                 |
| --------- | --------------------------------------- |
| `dev`     | Active development                      |
| `rc`      | Release candidate testing               |
| `ga`      | General availability (production ready) |
| `release` | Semantic equivalent to `ga` (alias)     |
| `hotfix`  | Urgent production fix state             |

**Note:** `release` is normalized to `ga` by tooling for comparison purposes.

### Phase Schema Consolidation

Removed duplicate `lifecycle-phase.json` from goneat config:

- **Before:** `schemas/config/goneat/v1.0.0/lifecycle-phase.json` (duplicate)
- **After:** Goneat references `schemas/config/repository/v1.0.0/lifecycle-phase.json`

This consolidation ensures a single source of truth for lifecycle phases while keeping release phase goneat-specific.

### Repository Lifecycle Standard

Updated `docs/standards/repository-lifecycle.md` to clarify the distinction:

| Concept         | Purpose                | Values                                 |
| --------------- | ---------------------- | -------------------------------------- |
| Lifecycle Phase | Product maturity       | experimental, alpha, beta, rc, ga, lts |
| Release Phase   | Deployment cycle state | dev, rc, ga, release, hotfix           |

## Adoption Guide

Added `docs/guides/agentic-interface-adoption.md` for FulmenHQ ecosystem maintainers:

- Step-by-step migration instructions
- Role selection by repository type
- Attribution format adoption checklist
- Troubleshooting and customization guidance

## CI/CD Updates

### Workflow Cleanup

Removed extraneous YAML document start markers (`---`) from workflow files:

- `.github/workflows/test-go.yml`
- `.github/workflows/test-python.yml`
- `.github/workflows/test-rust.yml`
- `.github/workflows/test-typescript.yml`

## Breaking Changes

None. This release is backward compatible.

## Migration Guide

### For Agentic Tool Consumers

If you were parsing role prompts from AGENTS.md, update to read from `config/agentic/roles/*.yaml` files instead. The YAML structure provides:

```yaml
metadata:
  role_id: devlead
  version: 1.0.0

prompt:
  system: |
    Your role-specific system prompt...
  context:
    - key: value pairs for additional context
```

### For Commit Attribution

Update commit message templates to follow the new baseline format documented in `docs/catalog/agentic/attribution/git-commit.md`.

## Version Synchronization

- Bumped to `0.3.0` across all manifests and generated artifacts
- Updated version badges in README
- Synchronized to all language wrappers (Python, TypeScript, Rust)

## Files Changed

### Added

- `config/agentic/roles/` - 7 role YAML files + README
- `docs/catalog/agentic/attribution/git-commit.md`
- `docs/guides/agentic-interface-adoption.md` - Ecosystem adoption guide
- `docs/ops/upstream-sync-consumer.md`
- `docs/upstream/README.md`
- `schemas/upstream/3leaps/` - Vendored role-prompt schema

### Modified

- `AGENTS.md` - Role references and attribution guide
- `MAINTAINERS.md` - Simplified structure
- `README.md` - Version badge update
- `VERSION` - Bumped to 0.3.0
- `docs/standards/agentic-attribution.md` - Major refactor
- `docs/standards/ai-agents.md` - Enhanced documentation
- `docs/standards/repository-lifecycle.md` - Lifecycle vs release phase clarification
- `schemas/config/goneat/v1.0.0/release-phase.json` - Added release, hotfix values
- `schemas/config/goneat/README.md` - Phase schema documentation
- `.github/workflows/test-*.yml` - YAML cleanup

### Removed

- `schemas/config/goneat/v1.0.0/lifecycle-phase.json` - Consolidated to repository schema

### Synced

- `lang/python/` - All SSOT assets
- `lang/typescript/` - All SSOT assets
- `lang/rust/` - All SSOT assets
