# v0.3.1 Release Notes

## Overview

v0.3.1 is a patch release fixing invalid examples in the Foundry patterns catalog discovered during the rsfulmen patterns module audit.

## Patterns Catalog Fixes

### JWT Example

**Problem:** The JWT pattern example used documentation shorthand (`...`) which is not valid base64url:

```yaml
# Before (invalid)
examples:
  - "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
```

**Fix:** Replaced with a valid JWT compact serialization (header.payload.signature):

```yaml
# After (valid)
examples:
  - "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIxMjM0NTY3ODkwIn0.dozjgNryP4J3jVmNHl0w5N_XgL0n3I9PlFUP0THsR8U"
```

The corrected JWT contains:

- Header: `{"alg":"HS256","typ":"JWT"}`
- Payload: `{"sub":"1234567890"}`
- Signature: valid base64url

### UUID-v4 Example

**Problem:** The UUID-v4 example had `12d3` in the version position, which indicates a v1 UUID (not v4):

```yaml
# Before (invalid - this is a v1 UUID format)
examples:
  - "123e4567-e89b-12d3-a456-426614174000"
```

**Fix:** Changed the version nibble from `1` to `4`:

```yaml
# After (valid UUIDv4)
examples:
  - "123e4567-e89b-42d3-a456-426614174000"
```

UUIDv4 requirements:

- Version nibble (position 13): Must be `4`
- Variant nibble (position 17): Must be `8`, `9`, `a`, or `b`

## Other Changes

### ADR-0012 Status Update

Updated `docs/architecture/decisions/ADR-0012-schema-ref-ids.md` status from "proposed" to "implemented". The schema reference resolution pattern using absolute `$id` URLs is now fully implemented in the logging schema.

### CI Workflow Cleanup

Removed duplicate YAML document start markers (`---`) from GitHub Actions workflow files to satisfy yamllint rules:

- `.github/workflows/test-go.yml`
- `.github/workflows/test-python.yml`
- `.github/workflows/test-rust.yml`
- `.github/workflows/test-typescript.yml`

## Breaking Changes

None. This release is backward compatible.

## Impact on Helper Libraries

Helper libraries consuming `patterns.yaml` can now validate all examples:

| Library  | Previous Workaround             | After v0.3.1     |
| -------- | ------------------------------- | ---------------- |
| rsfulmen | Skip list: `["jwt", "uuid-v4"]` | Remove skip list |
| gofulmen | No validation tests for these   | Full validation  |
| pyfulmen | No validation tests for these   | Full validation  |
| tsfulmen | No validation tests for these   | Full validation  |

## Version Synchronization

- Bumped to `0.3.1` across all manifests
- Synchronized to all language wrappers (Python, TypeScript, Rust)

## Files Changed

### Modified

- `config/library/foundry/patterns.yaml` - Fixed jwt and uuid-v4 examples
- `docs/architecture/decisions/ADR-0012-schema-ref-ids.md` - Status update
- `.github/workflows/test-*.yml` - YAML cleanup (4 files)

### Synced

- `lang/python/config/library/foundry/patterns.yaml`
- `lang/typescript/config/library/foundry/patterns.yaml`
- `lang/rust/config/library/foundry/patterns.yaml`

## Discovery

Issue discovered during rsfulmen v0.1.0 patterns module audit. Documented in `.plans/memos/fulmenhq-crucible/20260103-patterns-catalog-example-fixes.md` (external to this repo).
