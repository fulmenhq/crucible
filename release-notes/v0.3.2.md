# Crucible v0.3.2 Release Notes

**Release Date**: 2026-01-05
**Type**: Minor feature + bugfix

## Summary

This release adds SIGKILL as a first-class signal entry and GNU timeout/shell exit codes (124-127) to support process supervision semantics in rsfulmen's sysprims foundation stage. It also fixes a schema/data drift issue in the sync-keys configuration.

## Changes

### Added

#### SIGKILL Signal Entry

Added SIGKILL as a first-class entry in the signals catalog (`config/library/foundry/signals.yaml`):

```yaml
- id: kill
  name: SIGKILL
  unix_number: 9
  windows_event: null
  description: Force immediate termination - cannot be caught, blocked, or ignored
  default_behavior: immediate_exit
  exit_code: 137 # 128 + 9
  timeout_seconds: 0
  cleanup_actions: []
```

**Includes**:

- Full signal metadata with id, name, number, behavior, exit code
- Platform support entry (native on Unix, mapped to TerminateProcess/TerminateJobObject on Windows)
- Exit code mapping in `exit_codes` section (SIGKILL: 137)
- Usage notes documenting last-resort semantics

**Why**: Process supervision tools (sysprims) need canonical SIGKILL metadata for:

- Signal name/number mapping
- Platform support matrix lookups
- Exit code relationship documentation
- Behavioral guidance (uncatchable, no cleanup)

#### Shell Exit Codes (124-127)

Added new `shell` category in exit codes catalog (`config/library/foundry/exit-codes.yaml`):

| Code | Name                  | Description                      |
| ---- | --------------------- | -------------------------------- |
| 124  | EXIT_TIMEOUT          | Command timed out (GNU timeout)  |
| 125  | EXIT_TIMEOUT_INTERNAL | Timeout utility itself failed    |
| 126  | EXIT_CANNOT_EXECUTE   | Command found but not executable |
| 127  | EXIT_NOT_FOUND        | Command not found in PATH        |

**Why**: These POSIX/shell conventions are widely used by CI systems, `timeout(1)`, and shells. Libraries implementing process supervision need canonical definitions.

**Also updated**:

- `simplified_modes.basic` mappings include new codes
- `simplified_modes.severity` mappings categorize appropriately

### Fixed

#### Sync Keys Schema Drift

Fixed schema/data drift in `schemas/config/sync-keys.schema.yaml`:

**Problem**: Schema had `additionalProperties: false` on key definition, but `config/sync/sync-keys.yaml` contained `metadata` objects on 4 keys. Consumers doing offline validation (rsfulmen) would fail.

**Solution**: Added optional `metadata` property with documented reserved keys:

```yaml
metadata:
  type: object
  description: Optional metadata for sync tooling
  properties:
    sourceRepo:
      type: string
      description: Source repository URL or 'local' for development references
    sourcePathBase:
      type: string
      description: Base path within source repository for this sync key
    notes:
      type: string
      description: Human-readable notes about usage, constraints, or caveats
  additionalProperties: true
```

**Design**: Documents known keys while preserving extensibility via `additionalProperties: true`.

## Commits

```
7d8f027 fix(schema): add metadata property to sync-keys schema
dc81fd7 feat(signals): add SIGKILL as first-class signal and shell exit codes 124-127
```

## Impact

### For rsfulmen

- Can now consume `foundry::signals` and `foundry::exit_codes` catalogs
- Unblocks sysprims foundation-stage library implementation
- Offline schema validation works for sync-keys.yaml

### For Other Consumers

- Exit codes codegen includes shell category (124-127)
- All language bindings regenerated (Go, Python, TypeScript, Rust)

## Upgrade Notes

No breaking changes. All additions are backward compatible.

## Cross-References

- Feature Brief: `.plans/active/v0.3.2/sigkill-and-timeout-exit-codes-feature-brief.md`
- Feature Brief: `.plans/active/v0.3.2/rsfulmen-requests-feature-brief.md`
- Signals catalog: `config/library/foundry/signals.yaml`
- Exit codes catalog: `config/library/foundry/exit-codes.yaml`
- Sync keys schema: `schemas/config/sync-keys.schema.yaml`
- Signal handling standard: `docs/standards/library/modules/signal-handling.md`
