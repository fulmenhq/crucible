# Crucible v0.4.3 Release Notes

**Release Date**: 2026-01-07
**Type**: Minor release (bug fix + fixture standard refinement)

## Summary

This release fixes a bug in the Python `crucible.foundry` module, refines the fixture naming convention to require explicit variant codes, and registers the first HTTP protocol testing fixture (`rampart`).

## Bug Fixes

### Python Foundry Module Export Mismatch

**Issue**: The `lang/python/src/crucible/foundry/__init__.py` file exported an API that didn't match the actual exports from `exit_codes.py`. This caused `ImportError` when importing from `crucible.foundry`.

**Symptom**:

```
ImportError: cannot import name 'EXIT_CODES' from 'crucible.foundry.exit_codes'
```

**Root Cause**: The `__init__.py` file was created with an outdated API and never updated when the exit codes codegen changed the exported symbols.

**Before** (broken exports):

```python
from crucible.foundry.exit_codes import (
    EXIT_CODES,           # Does not exist
    EXIT_CODES_BY_NAME,   # Does not exist
    ExitCode,
    get_exit_code,        # Does not exist
    get_exit_code_by_name,# Does not exist
)
```

**After** (correct exports):

```python
from crucible.foundry.exit_codes import (
    EXIT_CODE_METADATA,
    EXIT_CODES_VERSION,
    ExitCode,
    ExitCodeInfo,
    SimplifiedMode,
    get_detailed_codes,
    get_exit_code_info,
    get_exit_codes_version,
    map_to_simplified,
)
```

**Files Changed**:

- `lang/python/src/crucible/foundry/__init__.py`

**Affected Versions**: v0.4.1, v0.4.2

**Impact**: After upgrading to v0.4.3, Python consumers can import from `crucible.foundry` without errors or manual patching.

## Commits

```
TBD - fix(python): align foundry __init__.py exports with exit_codes.py API
```

## Impact

### For pyfulmen

Remove any workarounds for this bug after syncing crucible v0.4.3:

```python
# Now works without manual patching
from crucible.foundry import (
    ExitCode,
    EXIT_CODE_METADATA,
    get_exit_code_info,
    SimplifiedMode,
    map_to_simplified,
)
```

### For Other Python Consumers

Direct `crucible` package consumers should upgrade to v0.4.3 to resolve import errors.

## Upgrade Notes

1. This is a **non-breaking** patch release
2. Sync crucible v0.4.3 to get the fix
3. Remove any local workarounds for the `ImportError`

## Fixture Standard Refinements

### Explicit Variant Codes Required

The fixture naming convention now requires explicit variant codes. There is no implicit `-001` default.

**Before (v0.4.2)**: `fixture-server-proving-rampart` implied `-001`

**After (v0.4.3)**: `fixture-server-proving-rampart-001` required

**Rationale**: When `-002` is added later, you don't want to retroactively rename the original repository. Explicit variants from day one prevent breaking changes to:

- Docker image references
- CI/CD configurations
- Documentation links
- Consumer scripts

### New Fixture: `rampart` (HTTP Protocol Testing)

Registered `rampart` as a proving-category server fixture for HTTP client validation:

| Variant | Name           | Description                                                            | Status  |
| ------- | -------------- | ---------------------------------------------------------------------- | ------- |
| `001`   | http-scenarios | Core HTTP/1.1: status codes, redirects, delays, content types, chunked | Active  |
| `002`   | http2-extended | HTTP/2, server push, compression, range requests                       | Planned |
| `003`   | performance    | Throughput, streaming, rate limiting, WebSocket                        | Planned |

**Full repo name**: `fixture-server-proving-rampart-001`

## Ecosystem Brand Summary

Added `config/branding/ecosystem.yaml` providing consistent brand context across all Fulmen tools.

**Access via helper libraries:**

```go
brand := crucible.GetBrandSummary()
fmt.Println(brand.Motto)   // "Fulmen - Thrive on Scale"
fmt.Println(brand.BuiltBy) // "Built by 3 Leaps, LLC"
fmt.Println(brand.URL)     // "https://3leaps.net"
```

**Display options** (tools implement one or both):

- CLI: `<binary> about`
- Server: `GET /about` endpoint

**Example output:**

```
$ rampart about

rampart v1.0.0
Variant: 001 (http-scenarios)

Fulmen - Thrive on Scale
Built by 3 Leaps, LLC
https://3leaps.net
```

## Cross-References

- [Bug Report](../.plans/memos/crucible/20260107-foundry-init-api-mismatch.md) (pyfulmen)
- [Fixture Standard](../docs/architecture/fulmen-fixture-standard.md)
- [Fixture Catalog](../config/taxonomy/fixture-catalog.yaml)
- [v0.4.2 Release Notes](v0.4.2.md)
