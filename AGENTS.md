# Crucible â€“ AI Agents Startup Guide

## ðŸ”‘ Read First

- **Prioritize Quality and Reliability**: As part of the FulmenHQ ecosystem, designed for extremely high-scale enterprise-class applications, all actions must emphasize code quality, process compliance, and system reliability. Our goal is not rapid commits but ensuring correctness to enable scalable, maintainable systems. Always verify outputs, run comprehensive checks, and seek human oversight for critical changes.
- Confirm your agentic interface. If the session does not name an interface adapter (e.g., Codex CLI, Claude Code), pause and request guidance from a human maintainer listed in `MAINTAINERS.md` before taking action.
- Do not assume an agentic identity. Agent identities are assigned in `MAINTAINERS.md`. Request assignment if none is provided.
- Review `REPOSITORY_SAFETY_PROTOCOLS.md` and the documents referenced here before executing sync, release, or destructive commands.

### Known Interface Adapters

| Agentic Interface | Definitive Prompt / Rules File                       | Attribution Format                                                                                                  |
| ----------------- | ---------------------------------------------------- | ------------------------------------------------------------------------------------------------------------------- |
| Codex CLI         | `CODEX.md` (this file + interface notes)             | `Generated by <agent identity> ([Codex CLI](https://github.com/openai/codex)) under supervision of @3leapsdave`     |
| Claude Code       | `CLAUDE.md` (if present) or `AGENTS.md`              | `Generated by <agent identity> ([Claude Code](https://claude.ai/code)) under supervision of @3leapsdave`            |
| Cursor            | `AGENTS.md`                                          | `Generated by <agent identity> ([Cursor](https://cursor.sh/)) under supervision of @3leapsdave`                     |
| Cline             | `.cline/rules/PROJECT.md` (must reference this file) | `Generated by <agent identity> ([Cline](https://cline.bot/)) under supervision of @3leapsdave`                      |
| KiloCode          | `AGENTS.md`                                          | `Generated by <agent identity> ([KiloCode](https://github.com/Kilo-Org/kilocode)) under supervision of @3leapsdave` |
| OpenCode          | `AGENTS.md`                                          | `Generated by <agent identity> ([OpenCode](https://github.com/sst/opencode)) under supervision of @3leapsdave`      |

Replace `<agent identity>` with the canonical name defined in `MAINTAINERS.md` (e.g., `Schema Cartographer`).

**Project**: crucible  
**Purpose**: Standards & schema SSOT for FulmenHQ â€“ Ensuring world-class information architecture, DevOps, and CI/CD practices for reliable, scalable enterprise applications.  
**Governance**: 3leaps Initiative

## Agent Identities

Agent identities, specializations, and supervision details are maintained in `MAINTAINERS.md`. Refer to that file for the current roster of AI co-maintainers.

## Commit Attribution

**DO**: Follow the standard attribution format defined in [`docs/standards/agentic-attribution.md`](docs/standards/agentic-attribution.md)

**Required trailers for commits**:

1. Generated by line with interface link and human supervisor
2. `Co-Authored-By:` trailer with agent email
3. `Committer-of-Record:` trailer with human committer info (required, last line)

**DO NOT**: Use simplified or incomplete attribution formats. Always include all required elements per the standard.

**Example** (using Claude Code interface with Pipeline Architect identity):

```
feat: add schema validation pipeline

Description of changes with bullet points.

ðŸŽ¯ Changes:
- Specific change 1
- Specific change 2

ðŸ“Š Coverage: [metrics if applicable]

Generated by Pipeline Architect ([Claude Code](https://claude.com/claude-code)) under supervision of @3leapsdave

Co-Authored-By: Pipeline Architect <noreply@3leaps.net>
Committer-of-Record: Dave Thompson <dave.thompson@3leaps.net> [@3leapsdave]
```

See [`docs/standards/agentic-attribution.md`](docs/standards/agentic-attribution.md) for complete attribution standards including when to include `Committer-of-Record`, quality indicators, and multi-agent collaboration patterns.

## Session Startup Protocol

1. **Context Review**
   - **REQUIRED**: Read `Makefile` to understand the repository's sync pattern and available targets.
   - Read `MAINTAINERS.md`, `REPOSITORY_SAFETY_PROTOCOLS.md`, and relevant standards under `docs/standards/` (especially Makefile, release checklist, ai-agents, agentic attribution).
   - **CRITICAL**: Understand that `lang/*/docs/`, `lang/*/schemas/`, and `lang/*/config/` are synced FROM root SSOT via `make sync`.
2. **Environment Check**
   - Confirm required tools (`bun >= 1.2`, `go >= 1.21`) are available if commands will be executed.
   - Run `make bootstrap` if tools are missing.
3. **Plan**
   - Outline steps in `.plans/` (gitignored) or within the session transcript before modifying files.
4. **Quality Assurance**
   - Run `make check-all` or equivalent quality gates before committing. Analyze outputs thoroughly; do not proceed if checks fail. Prioritize fixing process issues over code changes.
   - Ensure all tests pass: `make test`
   - Verify code formatting: `make fmt`
   - Run linting: `make lint`
5. **Execute Safely**
   - Use prescribed Make targets: `make bootstrap`, `make sync`, `make test`, `make fmt`, `make lint`
   - Use prescribed scripts: `bun run sync:to-lang`, `bun run version:update`
6. **Attribution**
   - Follow [Agentic Attribution Standard](docs/standards/agentic-attribution.md) for commit messages and PRs.
7. **Supervision**
   - Confirm human reviewer/supervisor availability before merging or publishing.

## Operational Guidelines

### DO

- **Quality First**: Always run `make check-all` before commits. Analyze all outputs; resolve process failures before code fixes.
- **Use Make Targets**: Prefer `make lint`, `make test`, `make check-all` over raw tool invocations.
- **SSOT Discipline**: Modify schemas/docs/templates at the root, then run sync scripts to update language wrappers.
- **Sync Before Changes**: Run `make sync` to ensure language wrappers are current before making changes.
- **Document Changes**: Maintain clear documentation for all schemas, standards, and templates.
- **Version Management**: Use `make version-bump-{major|minor|patch}` or `make version-set VERSION=x` for version changes.

### DO NOT

- **Edit Synced Files**: NEVER manually edit files in `lang/*/docs/`, `lang/*/schemas/`, or `lang/*/config/` - these are synced FROM root SSOT via `make sync`. If changes are needed:
  1. Edit the source files at root (`docs/`, `schemas/`, `config/`)
  2. Run `make sync` or `bun run sync:to-lang` to propagate changes
  3. Language-specific code files (`.go`, `.ts`, `.py`) in `lang/` are the exception and should be edited directly
- **Commit Planning Files**: Never attempt to commit files in `.plans/` directory - it is gitignored for local planning and session notes only.
- **Direct Releases**: Tagging/publishing requires explicit approval from @3leapsdave.
- **Store Secrets**: Never commit API keys, tokens, or credentials. See `REPOSITORY_SAFETY_PROTOCOLS.md`.
- **Skip Quality Gates**: Never commit without passing `make check-all`.
- **Modify VERSION Directly**: Use `make version-bump-{major|minor|patch}` or `make version-set VERSION=x`.
- **Break Downstream Consumers**: Crucible is SSOT for multiple projects - breaking changes require coordinated updates.

## Reference Documents

- `MAINTAINERS.md`
- `REPOSITORY_SAFETY_PROTOCOLS.md`
- `docs/standards/ai-agents.md`
- `docs/standards/agentic-attribution.md`
- `docs/standards/repository-safety-framework.md`
- `docs/standards/makefile-standard.md`
- `docs/sop/repository-structure.md`
- `docs/sop/cicd-operations.md`
